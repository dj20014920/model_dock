import{_ as i,$ as h,aZ as x,r,j as e,aT as p,aU as g,aV as f,aW as j,aX as b,ad as n,ba as C,b8 as v,an as w,as as y}from"./ChatbotName-98510a01.js";import{B as N}from"./browser-polyfill-5e752e65.js";import{c as k}from"./proxy-fetch-1d7239f3.js";import{C as P}from"./user-config-da123802.js";const A="/assets/premium-d74077d7.svg";globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(s,a){return this.cache.has(s)?this.cache.get(s):(this.cache.set(s,a),a)}};function B(){const{t:s}=i(),[a,l]=h(C),c=P[a],t=x(a),m=r.useCallback(async d=>{t.sendMessage(d)},[t]),o=r.useCallback(()=>{t.generating||t.resetConversation()},[t]),u=r.useMemo(()=>({reset:o}),[o]);return e.jsx(p.Provider,{value:u,children:e.jsxs("div",{className:"flex flex-col overflow-hidden bg-primary-background h-full",children:[e.jsxs("div",{className:"border-b border-solid border-primary-border flex flex-row items-center justify-between gap-2 py-3 mx-3",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx("img",{src:c.avatar,className:"w-4 h-4 object-contain rounded-full"}),e.jsx(g,{botId:a,name:c.name,onSwitchBot:l})]}),e.jsx("div",{className:"flex flex-row items-center gap-3",children:e.jsx("img",{src:f,className:k("w-4 h-4",t.generating?"cursor-not-allowed":"cursor-pointer"),onClick:o})})]}),e.jsx(j,{botId:a,messages:t.messages,className:"mx-3"}),e.jsxs("div",{className:"flex flex-col mx-3 my-3 gap-3",children:[e.jsx("hr",{className:"grow border-primary-border"}),e.jsx(b,{mode:"compact",disabled:t.generating,autoFocus:!0,placeholder:"Ask me anything...",onSubmit:m,actionButton:t.generating?e.jsx(n,{text:s("Stop"),color:"flat",size:"small",onClick:t.stopGenerating}):e.jsx(n,{text:s("Send"),color:"primary",type:"submit",size:"small"})})]})]})})}globalThis.jotaiAtomCache=globalThis.jotaiAtomCache||{cache:new Map,get(s,a){return this.cache.has(s)?this.cache.get(s):(this.cache.set(s,a),a)}};function S(){const{t:s}=i(),a=r.useCallback(()=>{w("open_premium_from_sidepanel"),window.open(N.runtime.getURL("app.html#/premium?source=sidepanel"),"_blank")},[]);return e.jsxs("div",{className:"w-full h-full flex flex-col justify-center items-center gap-3",children:[e.jsx("img",{src:A,className:"w-10 h-10"}),e.jsx("div",{className:"text-xl font-bold",children:s("Premium Feature")}),e.jsx(n,{text:s("Upgrade to unlock"),color:"primary",onClick:a})]})}function T(){const s=y();return s.isLoading?null:s.activated?e.jsx(B,{}):e.jsx(S,{})}const I=document.getElementById("app"),M=v(I);M.render(e.jsx(T,{}));
